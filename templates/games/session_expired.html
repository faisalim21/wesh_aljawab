<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Ø§Ù†ØªÙ‡Øª ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„Ø¬Ù„Ø³Ø©</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.rtl.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;900&display=swap" rel="stylesheet">
  <style>
    body{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);font-family:'Tajawal',sans-serif;min-height:100vh;display:flex;align-items:center;justify-content:center;margin:0;padding:20px}
    .expired-container{background:rgba(255,255,255,.95);border-radius:20px;padding:40px;max-width:520px;width:100%;text-align:center;box-shadow:0 20px 40px rgba(0,0,0,.2)}
    .expired-icon{font-size:4rem;color:#dc3545;margin-bottom:16px}
    .expired-title{color:#dc3545;font-size:1.8rem;font-weight:700;margin-bottom:12px}
    .expired-message{color:#6c757d;font-size:1.05rem;margin-bottom:24px;line-height:1.7}
    .btn-home{background:linear-gradient(135deg,#28a745,#20c997);color:#fff;border:none;padding:12px 30px;border-radius:15px;font-size:1.05rem;font-weight:700;text-decoration:none;display:inline-block;transition:all .3s ease}
    .btn-home:hover{transform:translateY(-2px);box-shadow:0 8px 20px rgba(40,167,69,.3);color:#fff}
    .session-info{background:#f8f9fa;border-radius:10px;padding:14px;margin:18px 0;border-left:4px solid #dc3545;text-align:start}
    .countdown{font-size:1.25rem;font-weight:800;color:#dc3545;margin:18px 0}
    @media (max-width:768px){.expired-container{padding:28px 18px}.expired-icon{font-size:3rem}.expired-title{font-size:1.5rem}}
  </style>
</head>
<body>
  <div class="expired-container">
    <div class="expired-icon">â°</div>
    <h1 class="expired-title">Ø§Ù†ØªÙ‡Øª ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„Ø¬Ù„Ø³Ø©</h1>

    <div class="session-info">
      <div><strong>Ù†ÙˆØ¹ Ø§Ù„Ø¬Ù„Ø³Ø©:</strong> {{ session_type }}</div>
      <div><strong>Ø§Ù„Ø³Ø¨Ø¨:</strong> {{ message }}</div>
    </div>

    <p class="expired-message">
      {% if session_type == "Ù…Ø¬Ø§Ù†ÙŠØ©" %}
        Ø§Ù„Ø¬Ù„Ø³Ø§Øª Ø§Ù„Ù…Ø¬Ø§Ù†ÙŠØ© ØªØ³ØªÙ…Ø± Ù„Ù…Ø¯Ø© <strong>Ø³Ø§Ø¹Ø© ÙˆØ§Ø­Ø¯Ø©</strong> Ù„Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ù…Ù†ØµØ© Ù…Ù† Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…ÙØ±Ø·.
      {% else %}
        Ø§Ù„Ø¬Ù„Ø³Ø§Øª Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø© ØµØ§Ù„Ø­Ø© Ù„Ù…Ø¯Ø© <strong>72 Ø³Ø§Ø¹Ø© (3 Ø£ÙŠØ§Ù…)</strong> Ù…Ù† ÙˆÙ‚Øª Ø¥Ù†Ø´Ø§Ø¦Ù‡Ø§.
      {% endif %}
      <br><br>
      {{ upgrade_message|default:"ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ù†Ø´Ø§Ø¡ Ø¬Ù„Ø³Ø© Ù…Ø¬Ø§Ù†ÙŠØ© Ø¬Ø¯ÙŠØ¯Ø© Ø£Ùˆ Ø´Ø±Ø§Ø¡ Ø­Ø²Ù…Ø© Ù…Ø¯ÙÙˆØ¹Ø© Ù„Ù„Ø§Ø³ØªÙ…ØªØ§Ø¹ Ø¨Ù…Ø­ØªÙˆÙ‰ Ø£ÙƒØ«Ø±!" }}
    </p>

    <div class="countdown" id="redirectCountdown"></div>

    <a href="{% url 'games:letters_home' %}" class="btn-home">ğŸ  Ø¥Ù†Ø´Ø§Ø¡ Ø¬Ù„Ø³Ø© Ø¬Ø¯ÙŠØ¯Ø©</a>

    <div class="mt-4">
      <small class="text-muted">
        ğŸ’¡ <strong>Ù…Ø¹Ù„ÙˆÙ…Ø©:</strong>
        Ø§Ù„Ø­Ø²Ù… Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø© ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø­Ø±ÙˆÙ ÙˆØ£Ø³Ø¦Ù„Ø© Ø£ÙƒØ«Ø± ØªÙ†ÙˆØ¹Ù‹Ø§ØŒ ÙˆØªØ¯ÙˆÙ… ØµÙ„Ø§Ø­ÙŠØªÙ‡Ø§ 72 Ø³Ø§Ø¹Ø©.
      </small>
    </div>
  </div>

  <script>
    // Ø¥Ø¹Ø§Ø¯Ø© ØªÙˆØ¬ÙŠÙ‡ ØªÙ„Ù‚Ø§Ø¦ÙŠØ© Ø¨Ø¹Ø¯ 10 Ø«ÙˆØ§Ù†Ù
    let countdown = 10;
    const countdownElement = document.getElementById('redirectCountdown');
    const targetUrl = "{% url 'games:letters_home' %}";

    (function tick(){
      if(countdown > 0){
        countdownElement.textContent = `Ø³ÙŠØªÙ… ØªÙˆØ¬ÙŠÙ‡Ùƒ ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§ Ø®Ù„Ø§Ù„ ${countdown} Ø«Ø§Ù†ÙŠØ©...`;
        countdown--;
        setTimeout(tick, 1000);
      }else{
        window.location.href = targetUrl;
      }
    })();

    // Ù…Ù†Ø¹ Ø§Ù„Ø±Ø¬ÙˆØ¹ Ù„Ù„Ø®Ù„Ù
    history.pushState(null,null,location.href);
    window.onpopstate=function(){history.go(1);};
  </script>
</body>
</html>

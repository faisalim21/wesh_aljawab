<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ø­Ø²Ù… Ù„Ø¹Ø¨Ø© Ø§Ù…Ø¨ÙˆØ³ØªØ± - ÙˆØ´ Ø§Ù„Ø¬ÙˆØ§Ø¨</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.rtl.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;600;800;900&display=swap" rel="stylesheet">
  <link rel="stylesheet"href="https://cdn.jsdelivr.net/npm/@emran-alhaddad/saudi-riyal-font/index.css">

  <style>
    :root{
      --primary:#6366f1;
      --secondary:#06b6d4;
      --success:#22c55e;
      --bg:#f8fafc;
      --card:#ffffff;
      --text:#0f172a;
      --muted:#64748b;
      --border:#e5e7eb;
      --grad:linear-gradient(135deg,#6366f1,#8b5cf6,#06b6d4);
    }

    body{
      background:
        radial-gradient(circle at top right,rgba(99,102,241,.08),transparent 45%),
        radial-gradient(circle at top left,rgba(6,182,212,.08),transparent 45%),
        var(--bg);
      font-family:'Tajawal',sans-serif;
      color:var(--text);
    }

    /* ===== Hero ===== */
    .hero{
      padding:120px 0 80px;
      text-align:center;
    }

    .hero h1{
      font-size:3rem;
      font-weight:900;
      margin-bottom:12px;
      background:var(--grad);
      -webkit-background-clip:text;
      -webkit-text-fill-color:transparent;
    }

    .hero p{
      color:var(--muted);
      font-size:1.1rem;
      max-width:620px;
      margin:auto;
    }

    /* ===== Grid ===== */
    .packages-grid{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(300px,1fr));
      gap:28px;
      padding-bottom:90px;
    }

    /* ===== Card ===== */
    .pkg-card{
      background:var(--card);
      border:1px solid var(--border);
      border-radius:26px;
      padding:26px 26px 30px;
      box-shadow:0 12px 30px rgba(15,23,42,.08);
      transition:.25s ease;
      position:relative;
    }

    .pkg-card:hover{
      transform:translateY(-6px);
      box-shadow:0 18px 45px rgba(15,23,42,.12);
      border-color:#c7d2fe;
    }

    .pkg-badge{
    position:absolute;
    top:16px;
    left:16px;   /* Ø¨Ø¯Ù„ right */
    padding:6px 14px;
    font-size:.8rem;
    font-weight:900;
    border-radius:999px;
    z-index:5;
    }


    .badge-free{
      background:rgba(34,197,94,.12);
      color:#15803d;
    }

    .badge-paid{
      background:rgba(99,102,241,.12);
      color:#4338ca;
    }

    .pkg-title{
      font-size:1.6rem;
      font-weight:900;
      margin-bottom:6px;
    }

    .pkg-desc{
      font-size:.95rem;
      color:var(--muted);
      margin-bottom:18px;
    }

    .pkg-meta{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      margin-bottom:18px;
    }

    .pkg-meta span{
      font-size:.85rem;
      padding:6px 12px;
      background:#f1f5f9;
      border-radius:999px;
      color:#334155;
      font-weight:700;
    }

    .price{
      margin:18px 0 22px;
      font-weight:900;
      font-size:1.1rem;
    }

    .price-old{
      text-decoration:line-through;
      color:#94a3b8;
      margin-left:8px;
      font-weight:600;
    }

    .price-new{
      font-size:1.4rem;
      color:var(--success);
    }

    /* ===== Button ===== */
    .btn-main{
      width:100%;
      padding:14px;
      border-radius:16px;
      border:none;
      font-size:1.05rem;
      font-weight:900;
      display:flex;
      align-items:center;
      justify-content:center;
      gap:8px;
      background:var(--grad);
      color:#fff;
      box-shadow:0 14px 30px rgba(99,102,241,.35);
      transition:.25s ease;
    }

    .btn-main:hover{
      transform:translateY(-2px);
      box-shadow:0 18px 38px rgba(99,102,241,.45);
    }

    .btn-free{
      background:linear-gradient(135deg,#22c55e,#16a34a);
      box-shadow:0 14px 30px rgba(34,197,94,.35);
    }

    .btn-free:hover{
      box-shadow:0 18px 38px rgba(34,197,94,.45);
    }

    @media(max-width:768px){
      .hero h1{font-size:2.2rem}
    }
  </style>
</head>

<body>
{% include "header.html" %}

<section class="hero">
  <div class="container">
    <h1>ğŸ­ Ù„Ø¹Ø¨Ø© Ø§Ù„Ø¥Ù…Ø¨ÙˆØ³ØªØ±</h1>
    <p>
      Ø§Ø®ØªØ± Ø§Ù„Ø­Ø²Ù…Ø© Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø© Ù„ÙƒÙ…ØŒ ÙƒÙ„ Ø¬ÙˆÙ„Ø© Ø¨ÙƒÙ„Ù…Ø© Ù…Ø®ØªÙ„ÙØ© ÙˆØªØ¬Ø±Ø¨Ø© Ù…Ù…ØªØ¹Ø©
      Ù„Ø§ÙƒØªØ´Ø§Ù Ø§Ù„Ø¥Ù…Ø¨ÙˆØ³ØªØ± Ø¨ÙŠÙ†ÙƒÙ….
    </p>
  </div>
</section>

<div class="container">
  <div class="packages-grid">

    {% for pkg in packages %}
      <div class="pkg-card">

        {% if pkg.is_free or pkg.package_number == 0 %}
          <span class="pkg-badge badge-free">Ù…Ø¬Ø§Ù†ÙŠØ©</span>
        {% endif %}

        <div class="pkg-title">
          {% if pkg.is_free or pkg.package_number == 0 %}
            Ø§Ù„Ø­Ø²Ù…Ø© Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠØ©
          {% else %}
            Ø­Ø²Ù…Ø© Ø±Ù‚Ù… {{ pkg.package_number }}
          {% endif %}
        </div>

        <div class="pkg-desc">
          {{ pkg.description|default:"Ø¬ÙˆÙ„Ø§Øª Ù…Ù…ØªØ¹Ø© Ø¨ÙƒÙ„Ù…Ø§Øª Ø³Ø±Ù‘ÙŠØ© Ù…Ø®ØªÙ„ÙØ© ØªÙ†Ø§Ø³Ø¨ Ø§Ù„Ù„Ø¹Ø¨ Ø§Ù„Ø¬Ù…Ø§Ø¹ÙŠ." }}
        </div>

        <div class="pkg-meta">
          {% if pkg.word_count %}
            <span><i class="fa-solid fa-rotate ms-1"></i>{{ pkg.word_count }} Ø¬ÙˆÙ„Ø©</span>
          {% else %}
            <span><i class="fa-solid fa-rotate ms-1"></i>{{ pkg.imposter_words.all|length }} Ø¬ÙˆÙ„Ø©</span>
          {% endif %}
        </div>

        {% if not pkg.is_free and pkg.effective_price > 0 %}
        <div class="price">
            {% if pkg.has_discount %}
            <span class="price-old">
                <span class="val">{{ pkg.original_price|floatformat:2 }}</span>
                <span class="icon-saudi_riyal"></span>
            </span>

            <span class="price-new">
                <span class="val">{{ pkg.discounted_price|floatformat:2 }}</span>
                <span class="icon-saudi_riyal"></span>
            </span>
            {% else %}
            <span class="price-new">
                <span class="val">{{ pkg.price|floatformat:2 }}</span>
                <span class="icon-saudi_riyal"></span>
            </span>
            {% endif %}
        </div>
        {% endif %}



        {% if pkg.is_free or pkg.package_number == 0 %}
          <a href="{% url 'games:imposter_setup' pkg.id %}" class="btn-main btn-free">
            <i class="fa-solid fa-bolt"></i> Ø¬Ø±Ù‘Ø¨ Ø§Ù„Ø¢Ù†
          </a>
        {% else %}
          {% if pkg.id in purchased_packages %}
            <a href="{% url 'games:imposter_setup' pkg.id %}" class="btn-main btn-free">
              <i class="fa-solid fa-play"></i> Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨
            </a>
          {% else %}
            <a href="{% url 'payments:start_payment' pkg.id %}" class="btn-main">
              <i class="fa-solid fa-cart-shopping"></i> Ø´Ø±Ø§Ø¡ Ø§Ù„Ø­Ø²Ù…Ø©
            </a>
          {% endif %}
        {% endif %}

      </div>
    {% empty %}
      <p class="text-center text-muted mt-5">
        Ù„Ø§ ØªÙˆØ¬Ø¯ Ø­Ø²Ù… Ù…ØªØ§Ø­Ø© Ø­Ø§Ù„ÙŠÙ‹Ø§.
      </p>
    {% endfor %}

  </div>
</div>

{% include "footer.html" %}
</body>
</html>

{% extends "admin/base_site.html" %}
{% load i18n static %}

{% block title %}{{ title }}{% endblock %}

{% block extrastyle %}
<style>
  /* ØªØ­Ø³ÙŠÙ†Ø§Øª Ø®ÙÙŠÙØ© Ù…ØªÙˆØ§ÙÙ‚Ø© Ù…Ø¹ Ø«ÙŠÙ… Ø§Ù„Ø£Ø¯Ù…Ù† */
  .import-wrap{max-width:980px;margin-inline:auto}
  .import-head{
    padding:16px 20px;
    border:1px solid var(--hairline-color, #e4e4e4);
    border-radius:8px;
    background: var(--body-bg, #fff);
  }
  .import-head h1{margin:0 0 6px;font-weight:800}
  .meta-cards{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:10px;margin-top:12px}
  .meta-card{
    border:1px solid var(--hairline-color, #e4e4e4);
    background:var(--darkened-bg, #f6f6f6);
    border-radius:8px;padding:10px 12px;text-align:center
  }
  .meta-card b{display:block;font-size:1.1rem;margin-top:4px}
  .object-tools.inline{margin-top:14px}
  .object-tools.inline li{margin-inline-start:6px}
  .module.import-box{border-radius:8px}
  .help-list{margin:0;padding-inline-start:18px}
  .help-list li{margin:6px 0}
  .note-danger{color:#b42318}
  .file-row{display:flex;gap:12px;align-items:center;flex-wrap:wrap}
  .file-row input[type="file"]{max-width:100%}
  .switch{display:inline-flex;align-items:center;gap:8px}
  .switch input{transform:scale(1.1)}
  .submit-row{display:flex;gap:8px;justify-content:flex-start}
  .btn-secondary{
    display:inline-block;padding:8px 12px;border-radius:6px;
    border:1px solid var(--hairline-color, #e4e4e4);
    background:var(--darkened-bg, #f6f6f6);text-decoration:none;
  }
</style>
{% endblock %}

{% block content %}
<div class="import-wrap">

  <!-- Ø±Ø£Ø³ Ø§Ù„ØµÙØ­Ø© / Ø¹Ù†ÙˆØ§Ù† ÙˆÙ…Ù„Ø®Øµ -->
  <div class="import-head">
    <h1>{{ title }}</h1>
    <ul class="object-tools inline">
      {% if back_url %}<li><a href="{{ back_url }}" class="btn-secondary">â† Ø±Ø¬ÙˆØ¹</a></li>{% endif %}
      {% if change_url %}<li><a href="{{ change_url }}" class="btn-secondary">âœï¸ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø­Ø²Ù…Ø©</a></li>{% endif %}
      {% if download_template_url %}<li><a href="{{ download_template_url }}" class="btn-secondary">â¬‡ï¸ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù‚Ø§Ù„Ø¨</a></li>{% endif %}
      {% if export_url %}<li><a href="{{ export_url }}" class="btn-secondary">ğŸ“¤ ØªØµØ¯ÙŠØ± Ø§Ù„Ø£Ø³Ø¦Ù„Ø©</a></li>{% endif %}
    </ul>

    <div class="meta-cards">
      <div class="meta-card">
        Ø§Ù„Ø­Ø§Ù„Ø©
        <b>{% if package.is_active %}ÙØ¹Ù‘Ø§Ù„Ø©{% else %}ØºÙŠØ± ÙØ¹Ù‘Ø§Ù„Ø©{% endif %}</b>
      </div>
      <div class="meta-card">
        Ø§Ù„Ø³Ø¹Ø±
        <b>{% if package.is_free %}Ù…Ø¬Ø§Ù†ÙŠØ©{% else %}{{ package.price }} Ø±ÙŠØ§Ù„{% endif %}</b>
      </div>
      <div class="meta-card">
        Ø±Ù‚Ù… Ø§Ù„Ø­Ø²Ù…Ø©
        <b>{{ package.package_number }}</b>
      </div>
    </div>
  </div>

  <!-- Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ù†Ø¸Ø§Ù… -->
  {% if messages %}
    <ul class="messagelist" style="margin-top:16px;">
      {% for message in messages %}
        <li class="{{ message.tags }}">{{ message }}</li>
      {% endfor %}
    </ul>
  {% endif %}

  <!-- Ø¥Ø±Ø´Ø§Ø¯Ø§Øª -->
  <div class="module" style="margin-top:16px;border-radius:8px;">
    <h2>ØªØ¹Ù„ÙŠÙ…Ø§Øª Ø§Ù„Ø±ÙØ¹</h2>
    <div class="form-row">
      <ul class="help-list">
        {% for row in help_rows %}
          <li>{{ row }}</li>
        {% endfor %}
      </ul>
      {% if extra_note %}
        <p class="note-danger">{{ extra_note }}</p>
      {% endif %}
    </div>
  </div>

  <!-- Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø±ÙØ¹ -->
  <form method="post" enctype="multipart/form-data" novalidate>
    {% csrf_token %}
    <div class="module import-box">
      <h2>Ø±ÙØ¹ Ù…Ù„Ù Ø§Ù„Ø£Ø³Ø¦Ù„Ø©</h2>
      <div class="form-row">
        <div class="file-row">
          <input type="file" name="file" accept="{{ accept }}" required>
          <span class="help">
            Ø§Ù„ØµÙŠØº Ø§Ù„Ù…Ø¯Ø¹ÙˆÙ…Ø©: {{ accept|default:".csv,.xlsx" }}
          </span>
        </div>
      </div>
      <div class="form-row">
        <label class="switch">
          <input type="checkbox" name="replace">
          <span>{{ replace_label }}</span>
        </label>
      </div>
    </div>

    <div class="submit-row">
      <input type="submit" class="default" value="{{ submit_label|default:'Ø±ÙØ¹ Ø§Ù„Ù…Ù„Ù' }}">
      {% if back_url %}<a href="{{ back_url }}" class="btn-secondary">Ø¥Ù„ØºØ§Ø¡</a>{% endif %}
    </div>
  </form>

</div>
{% endblock %}
